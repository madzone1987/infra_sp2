### Описание:

Этот проект собирает отзывы на произведения. Аутентифицированные пользователи могут оставлять отзывы на произведения,
добавленные администраторами проекта. Пользователи также могут оставлять комментарии к отзывам.

### Как запустить проект:

Клонировать репозиторий и перейти в директорию infra проекта в командной строке:

```
git clone git@github.com:madzone1987/infra_sp2.git
```
```
cd infra_sp2/infra
```

Cоздать создать файл ".env" и внести в него данные по шаблону, сохранить:

```
nano .env
```

```
# БД.
DB_ENGINE=django.db.backends.postgresql       # указываем, что работаем с postgresql
DB_HOST=db                                    # название сервиса (контейнера)
DB_NAME=postgres                              # имя базы данных
DB_PORT=5432                                  # порт для подключения к БД
POSTGRES_PASSWORD=postgres                    # пароль для подключения к БД (установите свой)
POSTGRES_USER=postgres                        # логин для подключения к базе данных

# Джанго.
SECRET_KEY = p&l%385148kslhtyn^##a1)ilz@4zqj=rq&agdol^##zgl9(vs
```

Запустить docker-compose:

```
docker-compose up -d
```

Запустить скрипт infra.sh (создает миграции, суперпользователя,
копирует статику) и следовать инструкциям на экране:

```
./infra.sh
```

При необходимости, можно заполнить БД тестовыми данными
(учетные данные суперпользователя: admin/admin):

```
./restore.sh
```

Проект развернут и доступен по адресу:

```
http://localhost
```

# Вы великолепны!

### Некоторые примеры запросов к API:

_GET_ .../api/v1/categories/

Пример ответа:

```
{
    "count": 3,
    "next": null,
    "previous": null,
    "results": [
        {
            "name": "Фильм",
            "slug": "movie"
        },
        ...
    ]
}
```

_POST_ .../api/v1/titles/1/reviews/

```
{
    "text": "Тест",
    "score": 10
}
```

Пример ответа:

```
{
    "id": 1,
    "text": "Тест",
    "author": "admin",
    "score": 10,
    "pub_date": "2022-10-24T08:29:12.186741Z"
}
```

_PATCH_ .../api/v1/titles/1/reviews/1/comments/1

```
{
    "text": "Комментарий"
}
```

Пример ответа:

```
{
    "id": 1,
    "text": "Комментарий",
    "author": "admin",
    "pub_date": "2022-10-24T09:04:42.770603Z"
}
```

### Авторы
Виталий Коршиков, Максим Костров, Павел Пестриков
